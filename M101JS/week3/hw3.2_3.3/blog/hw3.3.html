<html><head><title>Untitled document</title><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol{margin:0;padding:0}.c3{color:#615f5e;font-size:12pt;background-color:#ffffff}.c8{max-width:468pt;background-color:#ffffff;padding:72pt 72pt 72pt 72pt}.c2{line-height:1.5;direction:ltr;padding-bottom:17pt}.c4{color:#615f5e;background-color:#f8f8f8;font-family:"Verdana"}.c7{color:#6ba539;font-size:15pt;background-color:#ffffff}.c14{background-color:#ffffff;font-family:"Verdana"}.c0{line-height:1.375;direction:ltr}.c1{line-height:1.4;direction:ltr}.c6{height:11pt;direction:ltr}.c10{padding-top:15pt}.c9{height:11pt}.c5{padding-bottom:8pt}.c13{padding-bottom:11pt}.c12{font-weight:bold}.c11{margin-left:22pt}.title{padding-top:0pt;line-height:1.15;text-align:left;color:#000000;font-size:21pt;font-family:"Trebuchet MS";padding-bottom:0pt}.subtitle{padding-top:0pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:13pt;font-family:"Trebuchet MS";padding-bottom:10pt}li{color:#000000;font-size:11pt;font-family:"Arial"}p{color:#000000;font-size:11pt;margin:0;font-family:"Arial"}h1{padding-top:10pt;line-height:1.15;text-align:left;color:#000000;font-size:16pt;font-family:"Trebuchet MS";padding-bottom:0pt}h2{padding-top:10pt;line-height:1.15;text-align:left;color:#000000;font-size:13pt;font-family:"Trebuchet MS";font-weight:bold;padding-bottom:0pt}h3{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:12pt;font-family:"Trebuchet MS";font-weight:bold;padding-bottom:0pt}h4{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:11pt;text-decoration:underline;font-family:"Trebuchet MS";padding-bottom:0pt}h5{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:11pt;font-family:"Trebuchet MS";padding-bottom:0pt}h6{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:11pt;font-family:"Trebuchet MS";padding-bottom:0pt}</style></head><body class="c8"><h2 class="c1 c13"><a name="h.7m5dq6lykoxt"></a><span class="c7">Homework: Homework 3.3</span></h2><p class="c0"><span class="c3 c12">Making your blog accept comments</span></p><p class="c2"><span class="c3">In this homework you will add code to your blog so that it accepts comments. You will be using the same code as you downloaded for HW 3.2.</span></p><p class="c2 c9"><span class="c3"></span></p><p class="c2"><span class="c3">We have removed parts of the code that uses the Node.js driver to query MongoDB from posts.js and marked the area where you need to work for HW 3.3 with &quot;hw3.3 TODO&quot;.</span></p><p class="c0"><span class="c3">In a terminal: </span></p><p class="c0 c9"><span class="c3"></span></p><p class="c0"><span class="c3">Linux/Mac:</span></p><p class="c1"><span class="c4">cd blog/ <br>grep -rn &quot;hw3.3 TODO&quot; *<br></span></p><p class="c0"><span class="c3">Windows:</span></p><p class="c1"><span class="c4">cd blog/ <br>find /n &quot;hw3.3 TODO&quot; *<br></span></p><p class="c2"><span class="c3">You should not need to touch any other code. The database call that you are going to add will add a new comment to a given post.</span></p><p class="c2 c10"><span class="c3">This assignment has fairly little code, but it&#39;s a little more subtle than the previous assignment because you are going to be manipulating an array within the Mongo document. For the sake of clarity, here is a document out of the posts collection from a working project that also has comments.</span></p><p class="c1"><span class="c4">{<br>&quot;_id&quot; : ObjectId(&quot;513d396da0ee6e58987bae74&quot;),<br>&quot;author&quot; : &quot;andrew&quot;,<br>&quot;body&quot; : &quot;Representatives from the planet Mars announced today that the planet would adopt MongoDB as a planetary standard. Head Martian Flipblip said that MongoDB was the perfect tool to store the diversity of life that exists on Mars.&quot;,<br>&quot;comments&quot; : [<br>{<br>&quot;author&quot; : &quot;Larry Ellison&quot;,<br>&quot;body&quot; : &quot;While I am deeply disappointed that Mars won&#39;t be standardizing on a relational database, I understand their desire to adopt a more modern technology for the red planet.&quot;,<br>&quot;email&quot; : &quot;larry@oracle.com&quot;<br>},<br>{<br>&quot;author&quot; : &quot;Salvatore Sanfilippo&quot;,<br>&quot;body&quot; : &quot;This make no sense to me. Redis would have worked fine.&quot;<br>}<br>],<br>&quot;date&quot; : ISODate(&quot;2013-03-11T01:54:53.692Z&quot;),<br>&quot;permalink&quot; : &quot;martians_to_use_mongodb&quot;,<br>&quot;tags&quot; : [<br>&quot;martians&quot;,<br>&quot;seti&quot;,<br>&quot;nosql&quot;,<br>&quot;worlddomination&quot;<br>],<br>&quot;title&quot; : &quot;Martians to use MongoDB&quot;<br>}<br></span></p><p class="c2"><span class="c3">Note that you add comments in this blog from the blog post detail page, which appears at</span></p><p class="c1"><span class="c4">http://localhost:3000/post/post_slug<br></span></p><p class="c0"><span class="c3">where post_slug is the permalink. For the sake of eliminating doubt, the permalink for the example blog post above is</span></p><p class="c1"><span class="c4">http://localhost:3000/post/martians_to_use_mongodb</span></p><p class="c2"><span class="c3">You will run </span><span class="c4">hw3-3_validate.js</span><span class="c3">&nbsp;to check your work, much like the last homework.</span><span class="c4">hw3-3_validate.js</span><span class="c3">&nbsp;will run through and check to make sure it can add blog comments, as required by this problem. This </span><span class="c4">hw3-3_validate.js</span><span class="c3">&nbsp;program will print out a 3.3 validation code that you should enter below.</span></p><p class="c0"><span class="c3">Once again, you can validate the blog using the validation script we&#39;ve provided in the &#39;validate&#39; directory. Just run the following commands:</span></p><p class="c1"><span class="c4">cd validate<br>npm install<br>node hw3-3_validate.js<br></span></p><p class="c0"><span class="c3">For those who are using MongoHQ, MongoLab or want to run the webserver on a different host or port, there are some options to the validation script that can be exposed by running</span></p><p class="c1"><span class="c4">node hw3-3_validate.js --help<br></span></p><p class="c0 c5"><span class="c3">If you got it right, it will provide a validation code for you to enter into the box below. Enter just the code, no spaces. Note that your blog must be running when you run the validator.</span></p><p class="c0 c5"><span class="c3">Ans:</span></p><p class="c1 c5 c11"><span class="c14">jyTT4COdsQxHBb1tf01G</span></p><p class="c6"><span class="c7 c12"></span></p></body></html>