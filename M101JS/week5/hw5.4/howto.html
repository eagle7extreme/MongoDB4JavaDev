<html><head><title>Untitled document</title><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol{margin:0;padding:0}.c5{max-width:468pt;background-color:#ffffff;padding:72pt 72pt 72pt 72pt}.c4{line-height:1.4;direction:ltr;padding-bottom:8pt}.c0{line-height:1.375;direction:ltr;padding-bottom:8pt}.c9{color:#615f5e;background-color:#f8f8f8;font-family:"Verdana"}.c1{color:#3c3c3c;font-size:12pt;background-color:#ffffff}.c8{line-height:1.4;direction:ltr;padding-bottom:11pt}.c2{color:#6ba539;font-size:15pt;background-color:#ffffff}.c3{color:#615f5e;font-size:12pt;background-color:#ffffff}.c6{font-style:italic}.c7{font-weight:bold}.title{padding-top:0pt;line-height:1.15;text-align:left;color:#000000;font-size:21pt;font-family:"Trebuchet MS";padding-bottom:0pt}.subtitle{padding-top:0pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:13pt;font-family:"Trebuchet MS";padding-bottom:10pt}li{color:#000000;font-size:11pt;font-family:"Arial"}p{color:#000000;font-size:11pt;margin:0;font-family:"Arial"}h1{padding-top:10pt;line-height:1.15;text-align:left;color:#000000;font-size:16pt;font-family:"Trebuchet MS";padding-bottom:0pt}h2{padding-top:10pt;line-height:1.15;text-align:left;color:#000000;font-size:13pt;font-family:"Trebuchet MS";font-weight:bold;padding-bottom:0pt}h3{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:12pt;font-family:"Trebuchet MS";font-weight:bold;padding-bottom:0pt}h4{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:11pt;text-decoration:underline;font-family:"Trebuchet MS";padding-bottom:0pt}h5{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:11pt;font-family:"Trebuchet MS";padding-bottom:0pt}h6{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:11pt;font-family:"Trebuchet MS";padding-bottom:0pt}</style></head><body class="c5"><h2 class="c8"><a name="h.ogyqm3mlsmqo"></a><span class="c2">Homework: Homework 5.4</span></h2><p class="c0"><span class="c3 c7">Removing Rural Residents</span><span class="c3">&nbsp;In this problem you will calculate the number of people who live in a zip code in the US where the city starts with a digit. We will take that to mean they don&#39;t really live in a city. Once again, you will be using the zip code collection you imported earlier. </span></p><p class="c0"><span class="c3">The project operator can extract the first digit from any field. For example, to extract the first digit from the city field, you could write this query:</span></p><p class="c4"><span class="c9">db.zips.aggregate([<br> &nbsp; &nbsp;{$project: <br> &nbsp; &nbsp; {<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;first_char: {$substr : [&quot;$city&quot;,0,1]},<br> &nbsp; &nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br> &nbsp; }<br>])</span></p><p class="c0"><span class="c3">Using the aggregation framework, calculate the sum total of people who are living in a zip code where the city starts with a digit. Choose the answer below. </span></p><p class="c0"><span class="c3 c6">Note that you will need to probably change your projection to send more info through than just that first character. Also, you will need a filtering step to get rid of all documents where the city does not start with a digital (0-9).</span></p><p class="c0"><span class="c1">A. </span><span class="c1">298015 </span></p><p class="c0"><span class="c1">B. 345232 </span></p><p class="c0"><span class="c1">C. 245987 </span></p><p class="c0"><span class="c1">D. 158249 </span></p><p class="c0"><span class="c1">E. 543282 </span></p><p class="c0"><span class="c1">F. 312893</span></p><p class="c0"><span class="c1">Ans.: A</span></p></body></html>