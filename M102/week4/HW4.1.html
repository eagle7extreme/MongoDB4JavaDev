<html><head><title>Untitled document</title><style type="text/css">ol{margin:0;padding:0}.c10{color:#646464;font-size:22pt;background-color:#ffffff;font-family:"Verdana"}.c2{color:#222222;font-size:12pt;background-color:#ffffff;font-family:"Verdana"}.c5{color:#1d4595;font-size:12pt;background-color:#ffffff;font-family:"Verdana"}.c16{color:#aaaaaa;background-color:#f7f7f7;font-family:"Verdana"}.c3{color:#116644;background-color:#ffffff;font-family:"Verdana"}.c15{max-width:468pt;background-color:#ffffff;padding:72pt 72pt 72pt 72pt}.c0{color:#222222;background-color:#f8f8f8;font-family:"Verdana"}.c12{line-height:1.2;padding-bottom:11pt}.c9{color:inherit;text-decoration:inherit}.c6{line-height:1.375;direction:ltr}.c14{text-align:right;padding-bottom:8pt}.c1{line-height:1.4;direction:ltr}.c4{line-height:1.0;direction:ltr}.c13{line-height:1.6000000000000003;padding-bottom:8pt}.c11{margin-left:22pt;padding-bottom:8pt}.c7{height:11pt}.c8{direction:ltr}.title{padding-top:0pt;line-height:1.15;text-align:left;color:#000000;font-size:21pt;font-family:"Trebuchet MS";padding-bottom:0pt}.subtitle{padding-top:0pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:13pt;font-family:"Trebuchet MS";padding-bottom:10pt}li{color:#000000;font-size:11pt;font-family:"Arial"}p{color:#000000;font-size:11pt;margin:0;font-family:"Arial"}h1{padding-top:10pt;line-height:1.15;text-align:left;color:#000000;font-size:16pt;font-family:"Trebuchet MS";padding-bottom:0pt}h2{padding-top:10pt;line-height:1.15;text-align:left;color:#000000;font-size:13pt;font-family:"Trebuchet MS";font-weight:bold;padding-bottom:0pt}h3{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:12pt;font-family:"Trebuchet MS";font-weight:bold;padding-bottom:0pt}h4{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:11pt;text-decoration:underline;font-family:"Trebuchet MS";padding-bottom:0pt}h5{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-size:11pt;font-family:"Trebuchet MS";padding-bottom:0pt}h6{padding-top:8pt;line-height:1.15;text-align:left;color:#666666;font-style:italic;font-size:11pt;font-family:"Trebuchet MS";padding-bottom:0pt}</style></head><body class="c15"><h2 class="c8 c12"><span class="c10">Homework: Homework 4.1</span></h2><p class="c6"><span class="c2">In this week&rsquo;s homework we will create a replica set and add some data to it. </span></p><p class="c4"><span class="c2">1. Download </span><span class="c5"><a class="c9" href="https://education.10gen.com/static/m102-july-2013/handouts/week4.6caf9de7cde4.js">week4.js</a></span><span class="c2">&nbsp;from the education.10gen.com site. </span></p><p class="c4"><span class="c2">2. We will create a three member replica set. Pick a root working directory to work in. Go to that directory in a console window. </span></p><p class="c4"><span class="c2">Given we will have three members in the set, and three mongod processes, create three data directories:</span></p><p class="c1"><span class="c0">mkdir 1<br>mkdir 2<br>mkdir 3<br></span></p><p class="c4 c7"><span class="c0"></span></p><p class="c4"><span class="c2">3. We will now start a single mongod as a standalone server. Given we will have three mongod processes on our single test server, we will explicitly specify the port numbers (this wouldn&rsquo;t be necessary if we had three real machines or three virtual machines). We&rsquo;ll also use the --smallfiles parameter and --oplogSize so the files are small given we have a lot of server processes running on our test PC.</span></p><p class="c1"><span class="c0"># starting as a standalone server for problem 1:<br>mongod --dbpath 1 --port 27001 --smallfiles --oplogSize 50<br></span></p><p class="c4"><span class="c2">Note: for all mongod startups in the homework this week, you can optionally use --logPath, --logAppend, and --fork. Or, since this is just an exercise on a local PC, you could simply have a separate terminal window for all and forgo those settings. Run &ldquo;mongod --help&rdquo; for more info on those. </span></p><p class="c4"><span class="c2">4. In a separate terminal window (cmd.exe on Windows), run the mongo shell with the week4.js file:</span></p><p class="c1"><span class="c0">mongo --port 27001 --shell week4.js<br></span></p><p class="c4"><span class="c2">Then run in the shell:</span></p><p class="c1"><span class="c0">&nbsp;&gt; homework.init()<br></span></p><p class="c4"><span class="c2">This will load a small amount of test data into the database. </span></p><p class="c4"><span class="c2">Now run</span></p><p class="c1"><span class="c0">&gt; homework.a()<br></span></p><p class="c8 c13"><span class="c2">and enter the result. This will simply confirm all the above happened ok.</span></p><p class="c1 c14"><span class="c16">1</span></p><p class="c1 c11"><span class="c3">5001</span></p><p class="c7 c8"><span></span></p><p class="c7 c8"><span></span></p><p class="c7 c8"><span></span></p></body></html>